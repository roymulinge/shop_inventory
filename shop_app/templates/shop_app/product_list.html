{% extends 'shop_app/base.html' %}

{% block title %}Products{% endblock %}

{% block content %}
<h1 style="text-align:center; margin-bottom:20px;">Products</h1>

{% if messages %}
<div style="max-width:700px; margin:auto; margin-bottom:15px;">
    {% for message in messages %}
    <div style="background:#e0ffe0; padding:12px 15px; border-radius:8px; box-shadow:0 2px 4px rgba(0,0,0,0.1); margin-bottom:5px;">
        {{ message }}
    </div>
    {% endfor %}
</div>
{% endif %}

<a href="{% url 'add_product' %}" style="
    display:block;
    width:90%;
    max-width:500px;
    margin:15px auto;
    padding:15px;
    text-align:center;
    background:#2196F3;
    color:white;
    text-decoration:none;
    font-weight:bold;
    border-radius:10px;
    box-shadow:0 4px 8px rgba(0,0,0,0.1);
    transition:0.3s;
" onmouseover="this.style.background='#1976D2'" onmouseout="this.style.background='#2196F3'">
    + Add Product
</a>

<div style="max-width:700px; margin:auto; margin-top:15px;">
    {% for product in products %}
    <div style="
        background:#fff;
        padding:20px;
        margin-bottom:12px;
        border-radius:12px;
        box-shadow:0 4px 10px rgba(0,0,0,0.1);
        display:flex;
        justify-content:space-between;
        align-items:center;
        flex-wrap:wrap;
    ">
        <div style="font-size:1.1em; font-weight:bold;">
            {{ product.name }}
        </div>
        <div style="margin-top:8px;">
            Qty: <strong>{{ product.quantity }}</strong> |
            Price: <strong>${{ product.selling_price }}</strong>
        </div>
        <div style="display:flex; gap:10px; margin-top:8px; flex-wrap:wrap;">
            <a href="{% url 'edit_product' product.id %}" style="
                padding:10px 15px;
                background:#4CAF50;
                color:white;
                border-radius:8px;
                text-decoration:none;
                font-weight:bold;
                transition:0.3s;
            " onmouseover="this.style.background='#388E3C'" onmouseout="this.style.background='#4CAF50'">
                Edit
            </a>
            <a href="{% url 'delete_product' product.id %}" style="
                padding:10px 15px;
                background:#f44336;
                color:white;
                border-radius:8px;
                text-decoration:none;
                font-weight:bold;
                transition:0.3s;
            " onmouseover="this.style.background='#d32f2f'" onmouseout="this.style.background='#f44336'">
                Delete
            </a>
        </div>
    </div>
    {% empty %}
    <p style="text-align:center; margin-top:20px;">No products yet</p>
    {% endfor %}
</div>
{% endblock %}